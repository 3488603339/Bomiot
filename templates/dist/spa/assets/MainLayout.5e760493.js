import{m as q,c as v,h as y,p as Y,r as w,q as se,o as E,s as B,n as ue,t as oe,g as O,u as K,i as ce,v as x,w as L,x as ge,y as Z,z as de,A as me,B as be,C as ye,D as $e,E as W,G as H,a as ke,H as we,I as R,_ as V,J as _,K as C,L as h,f,Q as _e,M as Se,O as M,P as U,R as Le,S as A,U as ee,V as j,W as ae,X as D,F as te,Y as ze,Z as Ce,$ as qe,a0 as xe,a1 as fe,a2 as Te,a3 as P,a4 as Qe}from"./index.b3f81651.js";import{Q as G,a as J,b as ve,c as he,d as Pe,e as Ee}from"./QMenu.badb9ea0.js";import{u as Me}from"./language.0c3f60b5.js";import{u as De}from"./token.45b7b6e3.js";var Oe=q({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:o}){const n=v(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>y("div",{class:n.value},Y(o.default))}}),Re=q({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:o}){const n=v(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>y("div",{class:n.value,role:"toolbar"},Y(o.default))}});function Ve(){const e=w(!se.value);return e.value===!1&&E(()=>{e.value=!0}),e}const pe=typeof ResizeObserver!="undefined",le=pe===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var X=q({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:o}){let n=null,t,a={width:-1,height:-1};function u(c){c===!0||e.debounce===0||e.debounce==="0"?i():n===null&&(n=setTimeout(i,e.debounce))}function i(){if(clearTimeout(n),n=null,t){const{offsetWidth:c,offsetHeight:r}=t;(c!==a.width||r!==a.height)&&(a={width:c,height:r},o("resize",a))}}const{proxy:p}=O();if(pe===!0){let c;const r=b=>{t=p.$el.parentNode,t?(c=new ResizeObserver(u),c.observe(t),i()):b!==!0&&oe(()=>{r(!0)})};return E(()=>{r()}),B(()=>{clearTimeout(n),c!==void 0&&(c.disconnect!==void 0?c.disconnect():t&&c.unobserve(t))}),ue}else{let b=function(){clearTimeout(n),r!==void 0&&(r.removeEventListener!==void 0&&r.removeEventListener("resize",u,K.passive),r=void 0)},g=function(){b(),t&&t.contentDocument&&(r=t.contentDocument.defaultView,r.addEventListener("resize",u,K.passive),i())};const c=Ve();let r;return E(()=>{oe(()=>{t=p.$el,t&&g()})}),B(b),p.trigger=u,()=>{if(c.value===!0)return y("object",{style:le.style,tabindex:-1,type:"text/html",data:le.url,"aria-hidden":"true",onLoad:g})}}}}),He=q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:n}){const{proxy:{$q:t}}=O(),a=ce(Z,x);if(a===x)return console.error("QHeader needs to be child of QLayout"),x;const u=w(parseInt(e.heightHint,10)),i=w(!0),p=v(()=>e.reveal===!0||a.view.value.indexOf("H")>-1||t.platform.is.ios&&a.isContainer.value===!0),c=v(()=>{if(e.modelValue!==!0)return 0;if(p.value===!0)return i.value===!0?u.value:0;const l=u.value-a.scroll.value.position;return l>0?l:0}),r=v(()=>e.modelValue!==!0||p.value===!0&&i.value!==!0),b=v(()=>e.modelValue===!0&&r.value===!0&&e.reveal===!0),g=v(()=>"q-header q-layout__section--marginal "+(p.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(r.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=v(()=>{const l=a.rows.value.top,$={};return l[0]==="l"&&a.left.space===!0&&($[t.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),l[2]==="r"&&a.right.space===!0&&($[t.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),$});function d(l,$){a.update("header",l,$)}function k(l,$){l.value!==$&&(l.value=$)}function F({height:l}){k(u,l),d("size",l)}function N(l){b.value===!0&&k(i,!0),n("focusin",l)}L(()=>e.modelValue,l=>{d("space",l),k(i,!0),a.animate()}),L(c,l=>{d("offset",l)}),L(()=>e.reveal,l=>{l===!1&&k(i,e.modelValue)}),L(i,l=>{a.animate(),n("reveal",l)}),L(a.scroll,l=>{e.reveal===!0&&k(i,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const T={};return a.instances.header=T,e.modelValue===!0&&d("size",u.value),d("space",e.modelValue),d("offset",c.value),B(()=>{a.instances.header===T&&(a.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const l=ge(o.default,[]);return e.elevated===!0&&l.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(y(X,{debounce:0,onResize:F})),y("header",{class:g.value,style:S.value,onFocusin:N},l)}}}),Be=q({name:"QPageContainer",setup(e,{slots:o}){const{proxy:{$q:n}}=O(),t=ce(Z,x);if(t===x)return console.error("QPageContainer needs to be child of QLayout"),x;de(me,!0);const a=v(()=>{const u={};return t.header.space===!0&&(u.paddingTop=`${t.header.size}px`),t.right.space===!0&&(u[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(u.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(u[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),u});return()=>y("div",{class:"q-page-container",style:a.value},Y(o.default))}});const{passive:re}=K,Fe=["both","horizontal","vertical"];var Ne=q({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Fe.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:o}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,a,u;L(()=>e.scrollTarget,()=>{c(),p()});function i(){t!==null&&t();const g=Math.max(0,ye(a)),S=$e(a),d={top:g-n.position.top,left:S-n.position.left};if(e.axis==="vertical"&&d.top===0||e.axis==="horizontal"&&d.left===0)return;const k=Math.abs(d.top)>=Math.abs(d.left)?d.top<0?"up":"down":d.left<0?"left":"right";n.position={top:g,left:S},n.directionChanged=n.direction!==k,n.delta=d,n.directionChanged===!0&&(n.direction=k,n.inflectionPoint=n.position),o("scroll",{...n})}function p(){a=be(u,e.scrollTarget),a.addEventListener("scroll",r,re),r(!0)}function c(){a!==void 0&&(a.removeEventListener("scroll",r,re),a=void 0)}function r(g){if(g===!0||e.debounce===0||e.debounce==="0")i();else if(t===null){const[S,d]=e.debounce?[setTimeout(i,e.debounce),clearTimeout]:[requestAnimationFrame(i),cancelAnimationFrame];t=()=>{d(S),t=null}}}const{proxy:b}=O();return L(()=>b.$q.lang.rtl,i),E(()=>{u=b.$el.parentNode,p()}),B(()=>{t!==null&&t(),c()}),Object.assign(b,{trigger:r,getPosition:()=>n}),ue}}),Ie=q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:o,emit:n}){const{proxy:{$q:t}}=O(),a=w(null),u=w(t.screen.height),i=w(e.container===!0?0:t.screen.width),p=w({position:0,direction:"down",inflectionPoint:0}),c=w(0),r=w(se.value===!0?0:W()),b=v(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),g=v(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),S=v(()=>r.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${r.value}px`}:null),d=v(()=>r.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${r.value}px`,width:`calc(100% + ${r.value}px)`}:null);function k(s){if(e.container===!0||document.qScrollPrevented!==!0){const m={position:s.position.top,direction:s.direction,directionChanged:s.directionChanged,inflectionPoint:s.inflectionPoint.top,delta:s.delta.top};p.value=m,e.onScroll!==void 0&&n("scroll",m)}}function F(s){const{height:m,width:z}=s;let Q=!1;u.value!==m&&(Q=!0,u.value=m,e.onScrollHeight!==void 0&&n("scrollHeight",m),T()),i.value!==z&&(Q=!0,i.value=z),Q===!0&&e.onResize!==void 0&&n("resize",s)}function N({height:s}){c.value!==s&&(c.value=s,T())}function T(){if(e.container===!0){const s=u.value>c.value?W():0;r.value!==s&&(r.value=s)}}let l;const $={instances:{},view:v(()=>e.view),isContainer:v(()=>e.container),rootRef:a,height:u,containerHeight:c,scrollbarWidth:r,totalWidth:v(()=>i.value+r.value),rows:v(()=>{const s=e.view.toLowerCase().split(" ");return{top:s[0].split(""),middle:s[1].split(""),bottom:s[2].split("")}}),header:H({size:0,offset:0,space:!1}),right:H({size:300,offset:0,space:!1}),footer:H({size:0,offset:0,space:!1}),left:H({size:300,offset:0,space:!1}),scroll:p,animate(){l!==void 0?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),l=void 0},155)},update(s,m,z){$[s][m]=z}};if(de(Z,$),W()>0){let z=function(){s=null,m.classList.remove("hide-scrollbar")},Q=function(){if(s===null){if(m.scrollHeight>t.screen.height)return;m.classList.add("hide-scrollbar")}else clearTimeout(s);s=setTimeout(z,300)},I=function(ne){s!==null&&ne==="remove"&&(clearTimeout(s),z()),window[`${ne}EventListener`]("resize",Q)},s=null;const m=document.body;L(()=>e.container!==!0?"add":"remove",I),e.container!==!0&&I("add"),ke(()=>{I("remove")})}return()=>{const s=we(o.default,[y(Ne,{onScroll:k}),y(X,{onResize:F})]),m=y("div",{class:b.value,style:g.value,ref:e.container===!0?void 0:a,tabindex:-1},s);return e.container===!0?y("div",{class:"q-layout-container overflow-hidden",ref:a},[y(X,{onResize:N}),y("div",{class:"absolute-full",style:S.value},[y("div",{class:"scroll",style:d.value},[m])])]):m}}});const We=R({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"/"},icon:{type:String,default:""}}});function Ke(e,o,n,t,a,u){return _(),C(ve,{clickable:"",to:{name:e.link}},{default:h(()=>[e.icon?(_(),C(G,{key:0,avatar:""},{default:h(()=>[f(_e,{name:e.icon},null,8,["name"])]),_:1})):Se("",!0),f(G,null,{default:h(()=>[f(J,null,{default:h(()=>[M(U(e.title),1)]),_:1}),f(J,{caption:""},{default:h(()=>[M(U(e.caption),1)]),_:1})]),_:1})]),_:1},8,["to"])}var Ue=V(We,[["render",Ke]]);const Ae=Le("dark",{state:()=>({dark:A.isActive}),getters:{getDark:e=>e.dark},actions:{darkModeChange(){this.dark=!this.dark,A.set(this.dark)}},persist:{enabled:!0}}),je=R({name:"DarkMode",components:{},setup(){const e=Ae(),o=v(()=>e.dark),n=()=>e.darkModeChange();return E(()=>{A.set(o.value)}),{dark:o,darkModeChange:n}}});function Ge(e,o,n,t,a,u){return _(),ee(te,null,[j(f(D,{round:"",flat:"",icon:"brightness_4",onClick:o[0]||(o[0]=i=>e.darkModeChange())},null,512),[[ae,!e.dark]]),j(f(D,{round:"",flat:"",icon:"bedtime",onClick:o[1]||(o[1]=i=>e.darkModeChange())},null,512),[[ae,e.dark]])],64)}var Je=V(je,[["render",Ge]]);const Xe=R({name:"FullScreen"});function Ye(e,o,n,t,a,u){return _(),C(D,{round:"",flat:"",onClick:o[0]||(o[0]=i=>e.$q.fullscreen.toggle()),icon:e.$q.fullscreen.isActive?"fullscreen_exit":"fullscreen"},null,8,["icon"])}var Ze=V(Xe,[["render",Ye]]);function ie(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const o=parseInt(e,10);return isNaN(o)?0:o}var et=ze({name:"close-popup",beforeMount(e,{value:o}){const n={depth:ie(o),handler(t){n.depth!==0&&setTimeout(()=>{const a=Ce(e);a!==void 0&&qe(a,t,n.depth)})},handlerKey(t){xe(t,13)===!0&&n.handler(t)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:o,oldValue:n}){o!==n&&(e.__qclosepopup.depth=ie(o))},beforeUnmount(e){const o=e.__qclosepopup;e.removeEventListener("click",o.handler),e.removeEventListener("keyup",o.handlerKey),delete e.__qclosepopup}});const tt=R({name:"LanguageChoice",setup(){const e=Me(),o=v(()=>e.lang);return{langOptions:[{value:"en-US",label:"English"},{value:"zh-hans",label:"\u4E2D\u6587\u7B80\u4F53"},{value:"zh-hant",label:"\u4E2D\u6587\u7E41\u9AD4"},{value:"fr",label:"Fran\xE7ais"},{value:"pt",label:"Portugu\xEAs"},{value:"sp",label:"Espa\xF1ol"},{value:"de",label:"Deutsch"},{value:"ru",label:"\u0440\u0443\u0441\u0441\u043A\u0438\u0439 \u044F\u0437\u044B\u043A"},{value:"ar",label:"Arabic"},{value:"it",label:"Italiano"},{value:"ja",label:"\u65E5\u672C\u8A9E"}],lang:o,store:e}},watch:{lang(e){this.$i18n.locale=e}}});function nt(e,o,n,t,a,u){return _(),C(D,{round:"",dense:"",flat:"",color:"white",icon:"translate",style:{margin:"0 10px 0 10px"}},{default:h(()=>[f(Pe,null,{default:h(()=>[f(he,{style:{"min-width":"100px"}},{default:h(()=>[(_(!0),ee(te,null,fe(e.langOptions,(i,p)=>j((_(),C(ve,{clickable:"",key:p,onClick:c=>e.store.LanguageChange(i.value)},{default:h(()=>[f(G,null,{default:h(()=>[M(U(i.label),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[et]])),128))]),_:1})]),_:1})]),_:1})}var ot=V(tt,[["render",nt]]);const at=[{title:"\u6D4B\u8BD5\u5730\u5740",caption:"\u8FD9\u662F\u4E00\u4E2A\u6D4B\u8BD5\u8F9E\u804C",icon:"school",link:"test"},{title:"\u7528\u6237\u7BA1\u7406",caption:"\u7528\u6237\u7684\u7BA1\u7406",icon:"people",link:"user"}],lt=R({name:"MainLayout",components:{EssentialLink:Ue,DarkMode:Je,LanguageChoice:ot,FullScreen:Ze},setup(){const e=w(!0),o=De();return Te(()=>{}),{essentialLinks:at,leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value},tokenStore:o}}});function rt(e,o,n,t,a,u){const i=P("LanguageChoice"),p=P("DarkMode"),c=P("FullScreen"),r=P("EssentialLink"),b=P("router-view");return _(),C(Ie,{view:"hHh lpr lfr"},{default:h(()=>[f(He,{reveal:"",elevated:"",class:"bg-primary text-white"},{default:h(()=>[f(Re,null,{default:h(()=>[f(D,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),f(Oe,null,{default:h(()=>[M(" GreaterWMS ")]),_:1}),f(i),f(p),f(c)]),_:1})]),_:1}),f(Ee,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":o[0]||(o[0]=g=>e.leftDrawerOpen=g),side:"left",elevated:""},{default:h(()=>[f(he,null,{default:h(()=>[f(J,{header:""},{default:h(()=>[M(" \u4E3B\u83DC\u5355 ")]),_:1}),(_(!0),ee(te,null,fe(e.essentialLinks,g=>(_(),C(r,Qe({key:g.title},g),null,16))),128))]),_:1})]),_:1},8,["modelValue"]),f(Be,null,{default:h(()=>[f(b)]),_:1})]),_:1})}var dt=V(lt,[["render",rt]]);export{dt as default};
