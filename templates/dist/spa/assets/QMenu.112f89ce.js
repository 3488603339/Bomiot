import{m as N,c as h,h as E,p as Z,a5 as ve,a6 as fe,g as ee,a7 as nt,Y as it,l as K,n as lt,a8 as ot,a9 as j,aa as Ce,ab as re,ac as Be,ad as se,ae as ue,af as Oe,ag as Ne,ah as Ve,ai as Xe,i as ut,v as Se,r as T,aj as Ye,ak as rt,w as x,al as oe,o as Ue,t as Le,s as me,V as st,am as $e,y as ct,an as dt,ao as vt,ap as ft,a0 as Ge,x as mt,u as Me,aq as He,E as ht,ar as gt,as as yt,at as bt,au as wt,av as pt,aw as xt,ax as Ae,B as qt,ay as kt,az as Ct,aA as Bt,aB as St,aC as Tt}from"./index.f759a891.js";var Rt=N({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:a}){const l=h(()=>parseInt(e.lines,10)),r=h(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(l.value===1?" ellipsis":"")),t=h(()=>e.lines!==void 0&&l.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":l.value}:null);return()=>E("div",{style:t.value,class:r.value},Z(a.default))}}),It=N({name:"QList",props:{...ve,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:a}){const l=ee(),r=fe(e,l.proxy.$q),t=h(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(r.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>E(e.tag,{class:t.value},Z(a.default))}});const We={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Et=Object.keys(We);We.all=!0;function De(e){const a={};for(const l of Et)e[l]===!0&&(a[l]=!0);return Object.keys(a).length===0?We:(a.horizontal===!0?a.left=a.right=!0:a.left===!0&&a.right===!0&&(a.horizontal=!0),a.vertical===!0?a.up=a.down=!0:a.up===!0&&a.down===!0&&(a.vertical=!0),a.horizontal===!0&&a.vertical===!0&&(a.all=!0),a)}function ze(e,a){return a.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof a.handler=="function"&&e.target.nodeName.toUpperCase()!=="INPUT"&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(a.uid)===-1)}function Je(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),nt.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function Te(e,a,l){const r=se(e);let t,n=r.left-a.event.x,o=r.top-a.event.y,v=Math.abs(n),d=Math.abs(o);const c=a.direction;c.horizontal===!0&&c.vertical!==!0?t=n<0?"left":"right":c.horizontal!==!0&&c.vertical===!0?t=o<0?"up":"down":c.up===!0&&o<0?(t="up",v>d&&(c.left===!0&&n<0?t="left":c.right===!0&&n>0&&(t="right"))):c.down===!0&&o>0?(t="down",v>d&&(c.left===!0&&n<0?t="left":c.right===!0&&n>0&&(t="right"))):c.left===!0&&n<0?(t="left",v<d&&(c.up===!0&&o<0?t="up":c.down===!0&&o>0&&(t="down"))):c.right===!0&&n>0&&(t="right",v<d&&(c.up===!0&&o<0?t="up":c.down===!0&&o>0&&(t="down")));let i=!1;if(t===void 0&&l===!1){if(a.event.isFirst===!0||a.event.lastDir===void 0)return{};t=a.event.lastDir,i=!0,t==="left"||t==="right"?(r.left-=n,v=0,n=0):(r.top-=o,d=0,o=0)}return{synthetic:i,payload:{evt:e,touch:a.event.mouse!==!0,mouse:a.event.mouse===!0,position:r,direction:t,isFirst:a.event.isFirst,isFinal:l===!0,duration:Date.now()-a.event.time,distance:{x:v,y:d},offset:{x:n,y:o},delta:{x:r.left-a.event.lastX,y:r.top-a.event.lastY}}}}let Lt=0;var Ee=it({name:"touch-pan",beforeMount(e,{value:a,modifiers:l}){if(l.mouse!==!0&&K.has.touch!==!0)return;function r(n,o){l.mouse===!0&&o===!0?Oe(n):(l.stop===!0&&Be(n),l.prevent===!0&&re(n))}const t={uid:"qvtp_"+Lt++,handler:a,modifiers:l,direction:De(l),noop:lt,mouseStart(n){ze(n,t)&&ot(n)&&(j(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(n,!0))},touchStart(n){if(ze(n,t)){const o=n.target;j(t,"temp",[[o,"touchmove","move","notPassiveCapture"],[o,"touchcancel","end","passiveCapture"],[o,"touchend","end","passiveCapture"]]),t.start(n)}},start(n,o){if(K.is.firefox===!0&&Ce(e,!0),t.lastEvt=n,o===!0||l.stop===!0){if(t.direction.all!==!0&&(o!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const c=n.type.indexOf("mouse")>-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&re(c),n.cancelBubble===!0&&Be(c),Object.assign(c,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[t.uid]:n.qClonedBy.concat(t.uid)}),t.initialEvent={target:n.target,event:c}}Be(n)}const{left:v,top:d}=se(n);t.event={x:v,y:d,time:Date.now(),mouse:o===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:v,lastY:d}},move(n){if(t.event===void 0)return;const o=se(n),v=o.left-t.event.x,d=o.top-t.event.y;if(v===0&&d===0)return;t.lastEvt=n;const c=t.event.mouse===!0,i=()=>{r(n,c);let s;l.preserveCursor!==!0&&l.preservecursor!==!0&&(s=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),c===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Je(),t.styleCleanup=m=>{if(t.styleCleanup=void 0,s!==void 0&&(document.documentElement.style.cursor=s),document.body.classList.remove("non-selectable"),c===!0){const C=()=>{document.body.classList.remove("no-pointer-events--children")};m!==void 0?setTimeout(()=>{C(),m()},50):C()}else m!==void 0&&m()}};if(t.event.detected===!0){t.event.isFirst!==!0&&r(n,t.event.mouse);const{payload:s,synthetic:m}=Te(n,t,!1);s!==void 0&&(t.handler(s)===!1?t.end(n):(t.styleCleanup===void 0&&t.event.isFirst===!0&&i(),t.event.lastX=s.position.left,t.event.lastY=s.position.top,t.event.lastDir=m===!0?void 0:s.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||c===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){i(),t.event.detected=!0,t.move(n);return}const y=Math.abs(v),w=Math.abs(d);y!==w&&(t.direction.horizontal===!0&&y>w||t.direction.vertical===!0&&y<w||t.direction.up===!0&&y<w&&d<0||t.direction.down===!0&&y<w&&d>0||t.direction.left===!0&&y>w&&v<0||t.direction.right===!0&&y>w&&v>0?(t.event.detected=!0,t.move(n)):t.end(n,!0))},end(n,o){if(t.event!==void 0){if(ue(t,"temp"),K.is.firefox===!0&&Ce(e,!1),o===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Te(n===void 0?t.lastEvt:n,t).payload);const{payload:v}=Te(n===void 0?t.lastEvt:n,t,!0),d=()=>{t.handler(v)};t.styleCleanup!==void 0?t.styleCleanup(d):d()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,l.mouse===!0){const n=l.mouseCapture===!0||l.mousecapture===!0?"Capture":"";j(t,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}K.has.touch===!0&&j(t,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const l=e.__qtouchpan;l!==void 0&&(a.oldValue!==a.value&&(typeof value!="function"&&l.end(),l.handler=a.value),l.direction=De(a.modifiers))},beforeUnmount(e){const a=e.__qtouchpan;a!==void 0&&(a.event!==void 0&&a.end(),ue(a,"main"),ue(a,"temp"),K.is.firefox===!0&&Ce(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete e.__qtouchpan)}});const Fe=150;var Qt=N({name:"QDrawer",inheritAttrs:!1,props:{...Ne,...ve,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ve,"onLayout","miniState"],setup(e,{slots:a,emit:l,attrs:r}){const t=ee(),{proxy:{$q:n}}=t,o=fe(e,n),{preventBodyScroll:v}=dt(),{registerTimeout:d,removeTimeout:c}=Xe(),i=ut(ct,Se);if(i===Se)return console.error("QDrawer needs to be child of QLayout"),Se;let y,w,s;const m=T(e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint),C=h(()=>e.mini===!0&&m.value!==!0),q=h(()=>C.value===!0?e.miniWidth:e.width),b=T(e.showIfAbove===!0&&m.value===!1?!0:e.modelValue===!0),F=h(()=>e.persistent!==!0&&(m.value===!0||ge.value===!0));function p(u,g){if(W(),u!==!1&&i.animate(),S(0),m.value===!0){const k=i.instances[I.value];k!==void 0&&k.belowBreakpoint===!0&&k.hide(!1),P(1),i.isContainer.value!==!0&&v(!0)}else P(0),u!==!1&&xe(!1);d(()=>{u!==!1&&xe(!0),g!==!0&&l("show",u)},Fe)}function O(u,g){he(),u!==!1&&i.animate(),P(0),S(M.value*q.value),qe(),g!==!0?d(()=>{l("hide",u)},Fe):c()}const{show:V,hide:H}=Ye({showing:b,hideOnRouteChange:F,handleShow:p,handleHide:O}),{addToHistory:W,removeFromHistory:he}=rt(b,H,F),A={belowBreakpoint:m,hide:H},B=h(()=>e.side==="right"),M=h(()=>(n.lang.rtl===!0?-1:1)*(B.value===!0?1:-1)),te=T(0),L=T(!1),R=T(!1),ae=T(q.value*M.value),I=h(()=>B.value===!0?"left":"right"),X=h(()=>b.value===!0&&m.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:q.value:0),Q=h(()=>e.overlay===!0||e.miniToOverlay===!0||i.view.value.indexOf(B.value?"R":"L")>-1||n.platform.is.ios===!0&&i.isContainer.value===!0),_=h(()=>e.overlay===!1&&b.value===!0&&m.value===!1),ge=h(()=>e.overlay===!0&&b.value===!0&&m.value===!1),ye=h(()=>"fullscreen q-drawer__backdrop"+(b.value===!1&&L.value===!1?" hidden":"")),ne=h(()=>({backgroundColor:`rgba(0,0,0,${te.value*.4})`})),Y=h(()=>B.value===!0?i.rows.value.top[2]==="r":i.rows.value.top[0]==="l"),be=h(()=>B.value===!0?i.rows.value.bottom[2]==="r":i.rows.value.bottom[0]==="l"),ie=h(()=>{const u={};return i.header.space===!0&&Y.value===!1&&(Q.value===!0?u.top=`${i.header.offset}px`:i.header.space===!0&&(u.top=`${i.header.size}px`)),i.footer.space===!0&&be.value===!1&&(Q.value===!0?u.bottom=`${i.footer.offset}px`:i.footer.space===!0&&(u.bottom=`${i.footer.size}px`)),u}),U=h(()=>{const u={width:`${q.value}px`,transform:`translateX(${ae.value}px)`};return m.value===!0?u:Object.assign(u,ie.value)}),D=h(()=>"q-drawer__content fit "+(i.isContainer.value!==!0?"scroll":"overflow-auto")),we=h(()=>`q-drawer q-drawer--${e.side}`+(R.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(o.value===!0?" q-drawer--dark q-dark":"")+(L.value===!0?" no-transition":b.value===!0?"":" q-layout--prevent-focus")+(m.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${C.value===!0?"mini":"standard"}`+(Q.value===!0||_.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Y.value===!0?" q-drawer--top-padding":""))),f=h(()=>{const u=n.lang.rtl===!0?e.side:I.value;return[[Ee,tt,void 0,{[u]:!0,mouse:!0}]]}),G=h(()=>{const u=n.lang.rtl===!0?I.value:e.side;return[[Ee,Pe,void 0,{[u]:!0,mouse:!0}]]}),pe=h(()=>{const u=n.lang.rtl===!0?I.value:e.side;return[[Ee,Pe,void 0,{[u]:!0,mouse:!0,mouseAllDir:!0}]]});function J(){at(m,e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint)}x(m,u=>{u===!0?(y=b.value,b.value===!0&&H(!1)):e.overlay===!1&&e.behavior!=="mobile"&&y!==!1&&(b.value===!0?(S(0),P(0),qe()):V(!1))}),x(()=>e.side,(u,g)=>{i.instances[g]===A&&(i.instances[g]=void 0,i[g].space=!1,i[g].offset=0),i.instances[u]=A,i[u].size=q.value,i[u].space=_.value,i[u].offset=X.value}),x(i.totalWidth,()=>{(i.isContainer.value===!0||document.qScrollPrevented!==!0)&&J()}),x(()=>e.behavior+e.breakpoint,J),x(i.isContainer,u=>{b.value===!0&&v(u!==!0),u===!0&&J()}),x(i.scrollbarWidth,()=>{S(b.value===!0?0:void 0)}),x(X,u=>{$("offset",u)}),x(_,u=>{l("onLayout",u),$("space",u)}),x(B,()=>{S()}),x(q,u=>{S(),ke(e.miniToOverlay,u)}),x(()=>e.miniToOverlay,u=>{ke(u,q.value)}),x(()=>n.lang.rtl,()=>{S()}),x(()=>e.mini,()=>{e.modelValue===!0&&(et(),i.animate())}),x(C,u=>{l("miniState",u)});function S(u){u===void 0?Le(()=>{u=b.value===!0?0:q.value,S(M.value*u)}):(i.isContainer.value===!0&&B.value===!0&&(m.value===!0||Math.abs(u)===q.value)&&(u+=M.value*i.scrollbarWidth.value),ae.value=u)}function P(u){te.value=u}function xe(u){const g=u===!0?"remove":i.isContainer.value!==!0?"add":"";g!==""&&document.body.classList[g]("q-body--drawer-toggle")}function et(){clearTimeout(w),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),R.value=!0,w=setTimeout(()=>{R.value=!1,t&&t.proxy&&t.proxy.$el&&t.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function tt(u){if(b.value!==!1)return;const g=q.value,k=oe(u.distance.x,0,g);if(u.isFinal===!0){k>=Math.min(75,g)===!0?V():(i.animate(),P(0),S(M.value*g)),L.value=!1;return}S((n.lang.rtl===!0?B.value!==!0:B.value)?Math.max(g-k,0):Math.min(0,k-g)),P(oe(k/g,0,1)),u.isFirst===!0&&(L.value=!0)}function Pe(u){if(b.value!==!0)return;const g=q.value,k=u.direction===e.side,le=(n.lang.rtl===!0?k!==!0:k)?oe(u.distance.x,0,g):0;if(u.isFinal===!0){Math.abs(le)<Math.min(75,g)===!0?(i.animate(),P(1),S(0)):H(),L.value=!1;return}S(M.value*le),P(oe(1-le/g,0,1)),u.isFirst===!0&&(L.value=!0)}function qe(){v(!1),xe(!0)}function $(u,g){i.update(e.side,u,g)}function at(u,g){u.value!==g&&(u.value=g)}function ke(u,g){$("size",u===!0?e.miniWidth:g)}return i.instances[e.side]=A,ke(e.miniToOverlay,q.value),$("space",_.value),$("offset",X.value),e.showIfAbove===!0&&e.modelValue!==!0&&b.value===!0&&e["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!0),Ue(()=>{l("onLayout",_.value),l("miniState",C.value),y=e.showIfAbove===!0;const u=()=>{(b.value===!0?p:O)(!1,!0)};if(i.totalWidth.value!==0){Le(u);return}s=x(i.totalWidth,()=>{s(),s=void 0,b.value===!1&&e.showIfAbove===!0&&m.value===!1?V(!1):u()})}),me(()=>{s!==void 0&&s(),clearTimeout(w),b.value===!0&&qe(),i.instances[e.side]===A&&(i.instances[e.side]=void 0,$("size",0),$("offset",0),$("space",!1))}),()=>{const u=[];m.value===!0&&(e.noSwipeOpen===!1&&u.push(st(E("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),f.value)),u.push($e("div",{ref:"backdrop",class:ye.value,style:ne.value,"aria-hidden":"true",onClick:H},void 0,"backdrop",e.noSwipeBackdrop!==!0&&b.value===!0,()=>pe.value)));const g=C.value===!0&&a.mini!==void 0,k=[E("div",{...r,key:""+g,class:[D.value,r.class]},g===!0?a.mini():Z(a.default))];return e.elevated===!0&&b.value===!0&&k.push(E("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),u.push($e("aside",{ref:"content",class:we.value,style:U.value},k,"contentclose",e.noSwipeClose!==!0&&m.value===!0,()=>G.value)),E("div",{class:"q-drawer-container"},u)}}}),Kt=N({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:a}){const l=h(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>E("div",{class:l.value},Z(a.default))}}),jt=N({name:"QItem",props:{...ve,...vt,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:a,emit:l}){const{proxy:{$q:r}}=ee(),t=fe(e,r),{hasLink:n,linkAttrs:o,linkClass:v,linkTag:d,navigateOnClick:c}=ft(),i=T(null),y=T(null),w=h(()=>e.clickable===!0||n.value===!0||e.tag==="label"),s=h(()=>e.disable!==!0&&w.value===!0),m=h(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(t.value===!0?" q-item--dark":"")+(n.value===!0&&e.active===null?v.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(s.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),C=h(()=>{if(e.insetLevel===void 0)return null;const p=r.lang.rtl===!0?"Right":"Left";return{["padding"+p]:16+e.insetLevel*56+"px"}});function q(p){s.value===!0&&(y.value!==null&&(p.qKeyEvent!==!0&&document.activeElement===i.value?y.value.focus():document.activeElement===y.value&&i.value.focus()),c(p))}function b(p){if(s.value===!0&&Ge(p,13)===!0){Oe(p),p.qKeyEvent=!0;const O=new MouseEvent("click",p);O.qKeyEvent=!0,i.value.dispatchEvent(O)}l("keyup",p)}function F(){const p=mt(a.default,[]);return s.value===!0&&p.unshift(E("div",{class:"q-focus-helper",tabindex:-1,ref:y})),p}return()=>{const p={ref:i,class:m.value,style:C.value,role:"listitem",onClick:q,onKeyup:b};return s.value===!0?(p.tabindex=e.tabindex||"0",Object.assign(p,o.value)):w.value===!0&&(p["aria-disabled"]="true"),E(d.value,p,F())}}});const Mt={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function _t({showing:e,avoidEmit:a,configureAnchorEl:l}){const{props:r,proxy:t,emit:n}=ee(),o=T(null);let v;function d(s){return o.value===null?!1:s===void 0||s.touches===void 0||s.touches.length<=1}const c={};l===void 0&&(Object.assign(c,{hide(s){t.hide(s)},toggle(s){t.toggle(s),s.qAnchorHandled=!0},toggleKey(s){Ge(s,13)===!0&&c.toggle(s)},contextClick(s){t.hide(s),re(s),Le(()=>{t.show(s),s.qAnchorHandled=!0})},prevent:re,mobileTouch(s){if(c.mobileCleanup(s),d(s)!==!0)return;t.hide(s),o.value.classList.add("non-selectable");const m=s.target;j(c,"anchor",[[m,"touchmove","mobileCleanup","passive"],[m,"touchend","mobileCleanup","passive"],[m,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),v=setTimeout(()=>{t.show(s),s.qAnchorHandled=!0},300)},mobileCleanup(s){o.value.classList.remove("non-selectable"),clearTimeout(v),e.value===!0&&s!==void 0&&Je()}}),l=function(s=r.contextMenu){if(r.noParentEvent===!0||o.value===null)return;let m;s===!0?t.$q.platform.is.mobile===!0?m=[[o.value,"touchstart","mobileTouch","passive"]]:m=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:m=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],j(c,"anchor",m)});function i(){ue(c,"anchor")}function y(s){for(o.value=s;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;l()}function w(){if(r.target===!1||r.target===""||t.$el.parentNode===null)o.value=null;else if(r.target===!0)y(t.$el.parentNode);else{let s=r.target;if(typeof r.target=="string")try{s=document.querySelector(r.target)}catch{s=void 0}s!=null?(o.value=s.$el||s,l()):(o.value=null,console.error(`Anchor: target "${r.target}" not found`))}}return x(()=>r.contextMenu,s=>{o.value!==null&&(i(),l(s))}),x(()=>r.target,()=>{o.value!==null&&i(),w()}),x(()=>r.noParentEvent,s=>{o.value!==null&&(s===!0?i():l())}),Ue(()=>{w(),a!==!0&&r.modelValue===!0&&o.value===null&&n("update:modelValue",!1)}),me(()=>{clearTimeout(v),i()}),{anchorEl:o,canShow:d,anchorEvents:c}}function Ot(e,a){const l=T(null);let r;function t(v,d){const c=`${d!==void 0?"add":"remove"}EventListener`,i=d!==void 0?d:r;v!==window&&v[c]("scroll",i,Me.passive),window[c]("scroll",i,Me.passive),r=d}function n(){l.value!==null&&(t(l.value),l.value=null)}const o=x(()=>e.noParentEvent,()=>{l.value!==null&&(n(),a())});return me(o),{localScrollTarget:l,unconfigureScrollTarget:n,changeScrollEvent:t}}let Ze;const{notPassiveCapture:ce}=Me,z=[];function de(e){clearTimeout(Ze);const a=e.target;if(a===void 0||a.nodeType===8||a.classList.contains("no-pointer-events")===!0)return;let l=He.length-1;for(;l>=0;){const r=He[l].$;if(r.type.name!=="QDialog")break;if(r.props.seamless!==!0)return;l--}for(let r=z.length-1;r>=0;r--){const t=z[r];if((t.anchorEl.value===null||t.anchorEl.value.contains(a)===!1)&&(a===document.body||t.innerRef.value!==null&&t.innerRef.value.contains(a)===!1))e.qClickOutside=!0,t.onClickOutside(e);else return}}function Wt(e){z.push(e),z.length===1&&(document.addEventListener("mousedown",de,ce),document.addEventListener("touchstart",de,ce))}function Re(e){const a=z.findIndex(l=>l===e);a>-1&&(z.splice(a,1),z.length===0&&(clearTimeout(Ze),document.removeEventListener("mousedown",de,ce),document.removeEventListener("touchstart",de,ce)))}let Ie,Qe;function Ke(e){const a=e.split(" ");return a.length!==2?!1:["top","center","bottom"].includes(a[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(a[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Pt(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const _e={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{_e[`${e}#ltr`]=e,_e[`${e}#rtl`]=e});function je(e,a){const l=e.split(" ");return{vertical:l[0],horizontal:_e[`${l[1]}#${a===!0?"rtl":"ltr"}`]}}function $t(e,a){let{top:l,left:r,right:t,bottom:n,width:o,height:v}=e.getBoundingClientRect();return a!==void 0&&(l-=a[1],r-=a[0],n+=a[1],t+=a[0],o+=a[0],v+=a[1]),{top:l,left:r,right:t,bottom:n,width:o,height:v,middle:r+(t-r)/2,center:l+(n-l)/2}}function Ht(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function At(e){if(K.is.ios===!0&&window.visualViewport!==void 0){const v=document.body.style,{offsetLeft:d,offsetTop:c}=window.visualViewport;d!==Ie&&(v.setProperty("--q-pe-left",d+"px"),Ie=d),c!==Qe&&(v.setProperty("--q-pe-top",c+"px"),Qe=c)}let a;const{scrollLeft:l,scrollTop:r}=e.el;if(e.absoluteOffset===void 0)a=$t(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:v,left:d}=e.anchorEl.getBoundingClientRect(),c=v+e.absoluteOffset.top,i=d+e.absoluteOffset.left;a={top:c,left:i,width:1,height:1,right:i+1,center:c,middle:i,bottom:c+1}}let t={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(t.minWidth=a.width+"px",e.cover===!0&&(t.minHeight=a.height+"px")),Object.assign(e.el.style,t);const n=Ht(e.el),o={top:a[e.anchorOrigin.vertical]-n[e.selfOrigin.vertical],left:a[e.anchorOrigin.horizontal]-n[e.selfOrigin.horizontal]};Dt(o,a,n,e.anchorOrigin,e.selfOrigin),t={top:o.top+"px",left:o.left+"px"},o.maxHeight!==void 0&&(t.maxHeight=o.maxHeight+"px",a.height>o.maxHeight&&(t.minHeight=t.maxHeight)),o.maxWidth!==void 0&&(t.maxWidth=o.maxWidth+"px",a.width>o.maxWidth&&(t.minWidth=t.maxWidth)),Object.assign(e.el.style,t),e.el.scrollTop!==r&&(e.el.scrollTop=r),e.el.scrollLeft!==l&&(e.el.scrollLeft=l)}function Dt(e,a,l,r,t){const n=l.bottom,o=l.right,v=ht(),d=window.innerHeight-v,c=document.body.clientWidth;if(e.top<0||e.top+n>d)if(t.vertical==="center")e.top=a[r.vertical]>d/2?Math.max(0,d-n):0,e.maxHeight=Math.min(n,d);else if(a[r.vertical]>d/2){const i=Math.min(d,r.vertical==="center"?a.center:r.vertical===t.vertical?a.bottom:a.top);e.maxHeight=Math.min(n,i),e.top=Math.max(0,i-n)}else e.top=Math.max(0,r.vertical==="center"?a.center:r.vertical===t.vertical?a.top:a.bottom),e.maxHeight=Math.min(n,d-e.top);if(e.left<0||e.left+o>c)if(e.maxWidth=Math.min(o,c),t.horizontal==="middle")e.left=a[r.horizontal]>c/2?Math.max(0,c-o):0;else if(a[r.horizontal]>c/2){const i=Math.min(c,r.horizontal==="middle"?a.middle:r.horizontal===t.horizontal?a.right:a.left);e.maxWidth=Math.min(o,i),e.left=Math.max(0,i-e.maxWidth)}else e.left=Math.max(0,r.horizontal==="middle"?a.middle:r.horizontal===t.horizontal?a.left:a.right),e.maxWidth=Math.min(o,c-e.left)}var Nt=N({name:"QMenu",inheritAttrs:!1,props:{...Mt,...Ne,...ve,...gt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Ke},self:{type:String,validator:Ke},offset:{type:Array,validator:Pt},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ve,"click","escapeKey"],setup(e,{slots:a,emit:l,attrs:r}){let t=null,n,o,v;const d=ee(),{proxy:c}=d,{$q:i}=c,y=T(null),w=T(!1),s=h(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),m=fe(e,i),{registerTick:C,removeTick:q}=yt(),{registerTimeout:b}=Xe(),{transitionProps:F,transitionStyle:p}=bt(e),{localScrollTarget:O,changeScrollEvent:V,unconfigureScrollTarget:H}=Ot(e,Y),{anchorEl:W,canShow:he}=_t({showing:w}),{hide:A}=Ye({showing:w,canShow:he,handleShow:ge,handleHide:ye,hideOnRouteChange:s,processOnMount:!0}),{showPortal:B,hidePortal:M,renderPortal:te}=wt(d,y,we),L={anchorEl:W,innerRef:y,onClickOutside(f){if(e.persistent!==!0&&w.value===!0)return A(f),(f.type==="touchstart"||f.target.classList.contains("q-dialog__backdrop"))&&Oe(f),!0}},R=h(()=>je(e.anchor||(e.cover===!0?"center middle":"bottom start"),i.lang.rtl)),ae=h(()=>e.cover===!0?R.value:je(e.self||"top start",i.lang.rtl)),I=h(()=>(e.square===!0?" q-menu--square":"")+(m.value===!0?" q-menu--dark q-dark":"")),X=h(()=>e.autoClose===!0?{onClick:be}:{}),Q=h(()=>w.value===!0&&e.persistent!==!0);x(Q,f=>{f===!0?(Bt(U),Wt(L)):(Ae(U),Re(L))});function _(){St(()=>{let f=y.value;f&&f.contains(document.activeElement)!==!0&&(f=f.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||f.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||f.querySelector("[autofocus], [data-autofocus]")||f,f.focus({preventScroll:!0}))})}function ge(f){if(t=e.noRefocus===!1?document.activeElement:null,pt(ie),B(),Y(),n=void 0,f!==void 0&&(e.touchPosition||e.contextMenu)){const G=se(f);if(G.left!==void 0){const{top:pe,left:J}=W.value.getBoundingClientRect();n={left:G.left-J,top:G.top-pe}}}o===void 0&&(o=x(()=>i.screen.width+"|"+i.screen.height+"|"+e.self+"|"+e.anchor+"|"+i.lang.rtl,D)),e.noFocus!==!0&&document.activeElement.blur(),C(()=>{D(),e.noFocus!==!0&&_()}),b(()=>{i.platform.is.ios===!0&&(v=e.autoClose,y.value.click()),D(),B(!0),l("show",f)},e.transitionDuration)}function ye(f){q(),M(),ne(!0),t!==null&&(f===void 0||f.qClickOutside!==!0)&&(((f&&f.type.indexOf("key")===0?t.closest('[tabindex]:not([tabindex^="-"])'):void 0)||t).focus(),t=null),b(()=>{M(!0),l("hide",f)},e.transitionDuration)}function ne(f){n=void 0,o!==void 0&&(o(),o=void 0),(f===!0||w.value===!0)&&(xt(ie),H(),Re(L),Ae(U)),f!==!0&&(t=null)}function Y(){(W.value!==null||e.scrollTarget!==void 0)&&(O.value=qt(W.value,e.scrollTarget),V(O.value,D))}function be(f){v!==!0?(kt(c,f),l("click",f)):v=!1}function ie(f){Q.value===!0&&e.noFocus!==!0&&Tt(y.value,f.target)!==!0&&_()}function U(f){l("escapeKey"),A(f)}function D(){const f=y.value;f===null||W.value===null||At({el:f,offset:e.offset,anchorEl:W.value,anchorOrigin:R.value,selfOrigin:ae.value,absoluteOffset:n,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function we(){return E(Ct,F.value,()=>w.value===!0?E("div",{role:"menu",...r,ref:y,tabindex:-1,class:["q-menu q-position-engine scroll"+I.value,r.class],style:[r.style,p.value],...X.value},Z(a.default)):null)}return me(ne),Object.assign(c,{focus:_,updatePosition:D}),te}});export{Kt as Q,Rt as a,jt as b,It as c,Nt as d,Qt as e,Pt as f,Ot as g,_t as h,Je as i,Wt as j,je as p,Re as r,At as s,Mt as u,Ke as v};
